# Go Bootcamp RecipeDB Analyzer

## Обзор

Go Bootcamp RecipeDB Analyzer — это консольное приложение для анализа баз данных рецептов, хранящихся в форматах XML и JSON. Этот инструмент позволяет читать, сравнивать и оценивать изменения в различных базах данных рецептов, выявляя такие изменения, как добавленные, удаленные или измененные рецепты и ингредиенты.

## Содержание

1. [Введение](#введение)
2. [Функции](#функции)
3. [Начало работы](#начало-работы)
4. [Использование](#использование)
    1. [Упражнение 00: Чтение](#упражнение-00-чтение)
    2. [Упражнение 01: Оценка ущерба](#упражнение-01-оценка-ущерба)
    3. [Упражнение 02: После вечеринки](#упражнение-02-после-вечеринки)
5. [Структура проекта](#структура-проекта)

## Введение

Существует много популярных форматов данных в мире программирования, и язык Go значительно упрощает работу с ними, особенно с XML и JSON. Этот проект моделирует базу данных рецептов пекарни, хранящуюся в формате XML, и сравнивает её с «украденной» базой данных, представленной в формате JSON. Приложение может обнаруживать различия между базами данных и выделять их.

## Функции

- Чтение баз данных рецептов в форматах XML и JSON.
- Сравнение двух баз данных и обнаружение изменений, таких как:
    - Добавленные или удаленные рецепты.
    - Изменения во времени приготовления.
    - Добавленные или удаленные ингредиенты.
    - Изменения в количестве или единицах измерения ингредиентов.
- Интерфейс командной строки для удобства использования.

## Начало работы

### Предварительные требования

- Установленный язык программирования Go (рекомендуется версия 1.16 или выше).
- Git для контроля версий.

### Установка

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/your-username/go-bootcamp-recipeDB-analyzer.git
    ```
2. Перейдите в директорию проекта:
    ```bash
    cd go-bootcamp-recipeDB-analyzer
    ```
3. Соберите приложение:
    ```bash
    go build -o compareDB ./src/cmd/compareDB/main.go
    go build -o readDB ./src/cmd/readDB/main.go
    ```

## Использование

### Упражнение 00: Чтение

Для чтения файла базы данных и конвертации его в другой формат (из JSON в XML и наоборот) используйте команду `readDB`:

```bash
./readDB -f original_database.xml
./readDB -f stolen_database.json
```

Это выведет содержимое указанного файла в противоположном формате (JSON будет преобразован в XML и наоборот).

### Упражнение 01: Оценка ущерба

Для сравнения оригинальной базы данных с «украденной» и выявления изменений используйте команду `compareDB`:

```bash
./compareDB --old original_database.xml --new stolen_database.json
```

Ожидаемый формат вывода:
```rust
ADDED cake "Moonshine Muffin"
REMOVED cake "Blueberry Muffin Cake"
CHANGED cooking time for cake "Red Velvet Strawberry Cake" - "45 min" instead of "40 min"
ADDED ingredient "Coffee beans" for cake "Red Velvet Strawberry Cake"
REMOVED ingredient "Vanilla extract" for cake "Red Velvet Strawberry Cake"
CHANGED unit for ingredient "Flour" for cake "Red Velvet Strawberry Cake" - "mugs" instead of "cups"
CHANGED unit count for ingredient "Strawberries" for cake "Red Velvet Strawberry Cake" - "8" instead of "7"
REMOVED unit "pieces" for ingredient "Cinnamon" for cake "Red Velvet Strawberry Cake"
```

### Упражнение 02: После вечеринки

Для сравнения двух снимков файловой системы используйте команду `compareFS`:

```bash
./compareFS --old snapshot1.txt --new snapshot2.txt
```
Это выведет все добавленные или удаленные файлы между двумя снимками.

## Структура проекта

```graphql
go-bootcamp-recipeDB-analyzer/
│
├── src/
│   ├── cmd/
│   │   ├── compareDB/       # Главная команда для сравнения баз данных
│   │   └── readDB/          # Главная команда для чтения баз данных
│   ├── data/                # Примеры файлов данных в формате XML и JSON
│   ├── internal/
│   │   ├── converter/       # Код для конвертации данных (из XML в JSON и наоборот)
│   │   └── dbreader/        # Читатели баз данных для XML и JSON
│   └── pkg/
│       └── utils/           # Утилиты (например, для работы с файлами, обработки ошибок)
│
└── .gitignore               # Игнорируемые файлы для системы контроля версий
```

### Описание директорий

- **`cmd/`**: Содержит точки входа приложения. Имеет поддиректории для каждой команды (например, `compareDB` и `readDB`), каждая из которых содержит свой файл `main.go`.

- **`data/`**: Хранит примеры баз данных в различных форматах (XML и JSON) для тестирования и разработки.

- **`internal/`**: В этой директории находятся основные внутренние пакеты проекта:
    - **`converter/`**: Код для конвертации данных между форматами (например, из JSON в XML).
    - **`dbreader/`**: Реализация интерфейса `DBReader` для работы с разными форматами файлов. Содержит:
        - `dbreader.go`: Определяет интерфейс для чтения баз данных.
        - `json_reader.go` и `xml_reader.go`: Реализации для чтения баз данных в формате JSON и XML.
        - `types.go`: Определяет общие структуры данных.

- **`pkg/`**: Содержит универсальные утилиты и вспомогательные функции.
    - **`utils/`**: Включает в себя функции для обработки ошибок, работы с файлами и разбора аргументов командной строки.

- **`testfiles/`**: Папка для хранения тестовых файлов, полезных для тестирования приложения.

- **`.gitignore`**: Определяет файлы и директории, которые Git должен игнорировать (например, `.idea/`).

- **`go.mod`**: Файл модуля Go, содержащий информацию о модуле и его зависимостях.
